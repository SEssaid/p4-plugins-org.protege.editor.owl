<?xml version = "1.0" encoding = "utf-8"?>
<project name = "owl" default = "compile" basedir = "..">

	<property name = "distribution.jarfile" value = "${dist.dir}/bundles/org.protege.editor.owl.jar"/>
	<property name = "lib.dir" value = "${owl.dir}/lib"/>
	<property name = "icons.dir" value = "${owl.dir}/icons"/>
	<property name = "resources.dir" value = "${owl.dir}/resources"/>
	<property name = "src.dir" value = "${owl.dir}/src"/>

	<!-- =================================================================== -->
	<!-- Classpath declaration - used in the "compile" target -->
	<!-- =================================================================== -->
	<path id = "owl.classpath">    
                <path refid = "osgi.libs"/>
		<filelist refid = "common.libs"/>
		<path refid = "core.libs"/>
		<fileset refid = "owl.libs"/>
		<pathelement location = "${classes.core}"/>
	</path>

	<!-- =================================================================== -->
	<!-- INIT -->
	<!-- =================================================================== -->
	<target name = "init">
		<tstamp/>
		<mkdir dir = "${classes.owl}"/>
	</target>  

	<!-- =================================================================== -->
	<!-- COMPILE -->
	<!-- =================================================================== -->
	<target name = "compile" depends = "init"> 
		<javac srcdir = "${src.dir}" 
                       destdir = "${classes.owl}" 
                       debug="${debug}" 
                       source = "${source}" 
                       includeAntRuntime = "${includeAntRuntime}">
			<classpath refid = "owl.classpath"/>
		</javac>
	</target>
	
	<!-- ===================================================================================== -->
	<!-- JAR - create the distribution JAR file that goes in the JPF "plugins" directory -->
	<!-- ===================================================================================== -->
	<target name = "jar" depends = "compile">
                <copy todir="${classes.owl}">
                  <fileset dir="${resources.dir}"/>
                  <fileset dir="${icons.dir}"/>
                </copy>
		<jar basedir = "${classes.owl}"
                     destfile = "${distribution.jarfile}"
                     manifest="${owl.dir}/META-INF/MANIFEST.MF"/>
	</target>
	
	<!-- =================================================================== -->
	<!-- CLEAN -->
	<!-- =================================================================== -->
	<target name = "clean">
		<delete dir = "${classes.owl}"/>
		<delete dir = "${distribution.dir}"/>
	</target>
</project>
